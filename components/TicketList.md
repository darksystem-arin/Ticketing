
# مستندات کامپوننت `TicketList.tsx`

این کامپوننت صفحه اصلی برای مشاهده لیست تیکت‌ها است. کاربران می‌توانند تیکت‌های خود را ببینند، آن‌ها را فیلتر کنند و در صورت داشتن دسترسی، تیکت جدید ایجاد کنند.

## وظایف اصلی

1.  **نمایش لیست تیکت‌ها**: لیست تیکت‌هایی که کاربر به آن‌ها دسترسی دارد را نمایش می‌دهد. هر آیتم در لیست شامل اطلاعات کلیدی مانند عنوان، وضعیت، واحد مربوطه و زمان آخرین به‌روزرسانی است.
2.  **فیلتر کردن تیکت‌ها**: به کاربر اجازه می‌دهد تا تیکت‌ها را بر اساس وضعیت (`باز`، `در انتظار کارشناسی`، `بسته شده`، یا `همه`) فیلتر کند تا به راحتی به درخواست‌های مورد نظر خود دسترسی پیدا کند.
3.  **ایجاد تیکت جدید (Modal)**: در صورتی که کاربر دسترسی لازم (`canCreate`) را داشته باشد، یک دکمه برای "ثبت تیکت جدید" نمایش داده می‌شود. با کلیک بر روی این دکمه، یک پنجره مودال (Modal) باز می‌شود که شامل فرمی برای وارد کردن اطلاعات زیر است:
    *   واحد کاری (دپارتمان)
    *   موضوع تیکت
    *   توضیحات اولیه
4.  **مدیریت انتخاب تیکت**: با کلیک بر روی هر تیکت در لیست، تابع `onSelectTicket` را فراخوانی می‌کند تا کاربر به صفحه چت مربوط به آن تیکت هدایت شود.
5.  **به‌روزرسانی زمان نسبی**: از یک افکت (`useEffect`) برای به‌روزرسانی زمان‌های نمایش داده شده (مثلاً "۵ دقیقه پیش") به صورت دوره‌ای استفاده می‌کند تا اطلاعات همیشه تازه بمانند.

## Props (ورودی‌ها)

| نام Prop         | نوع                                                         | توضیحات                                                                                             |
| :--------------- | :----------------------------------------------------------- | :-------------------------------------------------------------------------------------------------- |
| `tickets`        | `Ticket[]`                                                   | آرایه‌ای از تیکت‌هایی که کاربر مجاز به دیدن آن‌هاست.                                                 |
| `units`          | `Unit[]`                                                     | لیست تمام واحدهای کاری برای نمایش در منوی کشویی فرم ایجاد تیکت جدید.                                |
| `onSelectTicket` | `(id: string) => void`                                       | تابعی که هنگام کلیک روی یک تیکت فراخوانی شده و ID آن تیکت را به کامپوننت والد (`App.tsx`) ارسال می‌کند. |
| `onCreateTicket` | `(title: string, desc: string, unitId: string) => void`      | تابعی که پس از ارسال فرم در مودال، برای ایجاد یک تیکت جدید فراخوانی می‌شود.                          |
| `canCreate`      | `boolean`                                                    | یک مقدار بولی که مشخص می‌کند آیا کاربر اجازه ایجاد تیکت جدید را دارد یا خیر.                          |
